<th:block th:fragment="editCoverWatchListModal">
  <div class="modal fade" id="editCoverWatchListModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content" style="background-color: #fcfbf4; border: 2px solid #000;">
        <div class="modal-header" style="border-bottom: 2px solid #ddd;">
          <h5 class="modal-title fw-bold">Update Poster</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <form th:action="@{/watchlists/edit-cover}" method="post" enctype="multipart/form-data" th:object="${coverWatchListForm}">
          <div class="modal-body">
            <input type="hidden" th:field="*{id}" />
            <div class="mb-3 text-center">
               <!-- Preview Area -->
               <div class="mb-2 mx-auto" style="width: 200px; height: 300px; border: 2px dashed #c4a45e; display: flex; align-items: center; justify-content: center; overflow: hidden;">
                  <img id="previewCover" src="#" style="display: none; width: 100%; height: 100%; object-fit: cover;">
                  <span id="phCover" class="text-muted">New Poster</span>
               </div>
               <input type="file" class="form-control" th:field="*{coverFile}" accept="image/*" onchange="previewC(this)">
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
            <button type="submit" class="btn" style="background-color: #0d6efd; color: white;">Upload</button>
          </div>
        </form>
      </div>
    </div>
  </div>
  <script>
      function previewC(i){
          if(i.files && i.files[0]){
              var r = new FileReader();
              r.onload = function(e){
                  document.getElementById('previewCover').src=e.target.result;
                  document.getElementById('previewCover').style.display='block';
                  document.getElementById('phCover').style.display='none';
              }
              r.readAsDataURL(i.files[0]);
          }
      }
  </script>
</th:block>